import{d as A,r as l,j as s,B as G,Y as J}from"./index-DygmJ1BA.js";import{g as e}from"./input.style-BqcXTAcm.js";const Q=A({slots:{base:e.base,input:e.input,prefix:e.prefix,suffix:e.suffix,count:"text-[14px] text-black/50",eyeIcon:"text-gray-400 cursor-pointer",rightBlock:"relative pr-[8px] flex flex-center",clear:e.clear},variants:{size:{tiny:{base:e.tinyBase,clear:e.tinyClear,input:`${e.smallInput} px-[6px]`,eyeIcon:"size-[12px]"},small:{base:e.smallBase,clear:e.smallClear,input:`${e.smallInput} px-[6px]`,eyeIcon:"size-[14px]"},medium:{base:e.mediumBase,clear:e.mediumClear,input:`${e.mediumInput} px-[8px]`,eyeIcon:"size-[16px]"},large:{base:e.largeBase,clear:e.largeClear,input:`${e.largeInput} px-[8px]`,eyeIcon:"size-[18px]"}},disabled:{true:{base:e.disabledBase,input:e.disabledInput}},status:{error:{base:e.errorBase,prefix:"[&>*]:text-danger-500",suffix:"[&>*]:text-danger-500"},warn:{base:e.warnBase,prefix:"[&>*]:text-warn-500",suffix:"[&>*]:text-warn-500"},readonly:{}},allowClear:{true:{clear:"scale-1"}}},defaultVariants:{size:"medium"}}),I=l.forwardRef((C,j)=>{const{inputRef:v,type:n="text",value:N="",allowClear:d,showCount:i,pwdIconVisible:B=!0,maxLength:t,status:o,disabled:r,placeholder:S,size:u,prefix:f,suffix:m,onChange:$,onInput:c,onBlur:z,onFocus:k,onKeyDown:E,className:R,style:V}=C,{base:P,input:Y,prefix:D,clear:F,count:H,suffix:K,eyeIcon:g,rightBlock:p}=Q(),[a,h]=l.useState(N),[y,w]=l.useState(!1),[x,L]=l.useState(!1),M=()=>{a.length?w(!0):w(!1)},O=l.useMemo(()=>{if(i)return t?`${a.length}/${t}`:`${a.length}`},[t,a.length,i]),T=b=>{const q=b.currentTarget;h(q.value),c==null||c(b)},X=()=>{y&&h("")};return l.useEffect(()=>{d&&M()},[a.length]),s.jsxs("label",{className:P({size:u,disabled:r,status:o,class:R}),ref:j,style:V,children:[f?s.jsx("div",{className:D({status:o}),children:f}):null,s.jsx("input",{ref:v,className:Y({disabled:r,size:u}),type:n==="password"?x?"text":"password":n,placeholder:S,disabled:r,readOnly:o==="readonly",value:a,maxLength:t,onInput:T,onChange:$,onBlur:z,onFocus:k,onKeyDown:E}),d&&!r?s.jsx("div",{className:p(),children:s.jsx("div",{className:F({size:u,allowClear:y}),onClick:X})}):null,i?s.jsx("div",{className:H({class:p()}),children:O}):null,n==="password"&&B?s.jsx("div",{className:p(),onClick:()=>L(!x),children:x?s.jsx(G,{className:g()}):s.jsx(J,{className:g()})}):null,m?s.jsx("div",{className:K(),children:m}):null]})});I.displayName="Input";const Z=I;export{Z as I};
