import{r as o,d as w,j as n}from"./index-DNICQ8NF.js";import{$ as A,b as u,_ as $}from"./index-CA-e9VSr.js";import{$ as _,a as b}from"./index-CSqJZj69.js";import{c as L}from"./index-_DhQyXzb.js";const x="Avatar",[S,F]=A(x),[y,m]=S(x),j=o.forwardRef((a,c)=>{const{__scopeAvatar:t,...e}=a,[r,s]=o.useState("idle");return o.createElement(y,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:s},o.createElement(u.span,$({},e,{ref:c})))}),N="AvatarImage",E=o.forwardRef((a,c)=>{const{__scopeAvatar:t,src:e,onLoadingStatusChange:r=()=>{},...s}=a,l=m(N,t),d=I(e),i=_(f=>{r(f),l.onImageLoadingStatusChange(f)});return b(()=>{d!=="idle"&&i(d)},[d,i]),d==="loaded"?o.createElement(u.img,$({},s,{ref:c,src:e})):null}),C="AvatarFallback",R=o.forwardRef((a,c)=>{const{__scopeAvatar:t,delayMs:e,...r}=a,s=m(C,t),[l,d]=o.useState(e===void 0);return o.useEffect(()=>{if(e!==void 0){const i=window.setTimeout(()=>d(!0),e);return()=>window.clearTimeout(i)}},[e]),l&&s.imageLoadingStatus!=="loaded"?o.createElement(u.span,$({},r,{ref:c})):null});function I(a){const[c,t]=o.useState("idle");return b(()=>{if(!a){t("error");return}let e=!0;const r=new window.Image,s=l=>()=>{e&&t(l)};return t("loading"),r.onload=s("loaded"),r.onerror=s("error"),r.src=a,()=>{e=!1}},[a]),c}const M=j,k=E,z=R,p=w({base:"inline-block relative box-border overflow-hidden",variants:{size:{tiny:"h-[24px] w-[24px]",small:"h-[32px] w-[32px]",medium:"h-[40px] w-[40px]",large:"h-[48px] w-[48px]"},shape:{circle:"rounded-full",round:"rounded-large"},bordered:{true:"outline outline-2 outline-[var(--border-color)] border-2 border-solid border-white"}},defaultVariants:{size:"medium",shape:"circle"}}),g=o.forwardRef((a,c)=>{const{src:t,shape:e,size:r,text:s,alt:l,bordered:d,color:i="#eae8e8",className:f,style:h}=a;return n.jsxs(M,{className:p({shape:e,size:r,bordered:d,class:f}),style:{"--border-color":i,...h},ref:c,children:[n.jsx(k,{className:"w-full h-full object-cover",src:t,alt:l}),s?null:n.jsx(z,{delayMs:300,className:p({size:r,shape:e,class:"flex justify-center items-center text-gray-400/60 bg-gray-200 [&_svg]:w-[52%] [&_svg]:h-[52%]"}),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),n.jsx("circle",{cx:"9",cy:"9",r:"2"}),n.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),!t&&s?n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s}):null]})});g.displayName="Avatar";const V=g,v=o.forwardRef(({direction:a="horizontal",gap:c="-12px",style:t,...e},r)=>n.jsx("div",{style:{"--gap":c,...t},className:L("flex [&_span]:shadow-[0_0_0_2px_#fff]",e.className,{"flex-col [&_span:not(:first-child)]:mt-[var(--gap)]":a==="vertical","flex-row [&_span:not(:first-child)]:ml-[var(--gap)]":a==="horizontal"}),ref:r,children:e.children}));v.displayName="AvatarGroup";const K=v;export{V as A,K as a};
