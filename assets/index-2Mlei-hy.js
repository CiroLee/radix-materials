import{K as X,r as k,M as us,O as hs,P as fs,R as ms,T as Y,V as ss,Z as R,_ as ds,a0 as js,a1 as gs,a2 as xs,a3 as ys,a4 as L,a5 as ws,a6 as bs,a7 as vs,a8 as As,a9 as Ns,aa as ks,ab as Ss,ac as as,ad as Cs,ae as Vs,af as Es,ag as qs,ah as ns,ai as Ms,j as o,m as Ts,aj as Is}from"./index-DckClljG.js";import{H as E,C as T,c as I}from"./index-DeVYuj6E.js";import{N as Ds,D as _s,S as D,A as Rs}from"./index-BOOu6lZm.js";function ts(s){const a=X(()=>hs(s)),{isStatic:n}=k.useContext(us);if(n){const[,t]=k.useState(s);k.useEffect(()=>a.on("change",t),[])}return a}const Ls=s=>s&&typeof s=="object"&&s.mix,Fs=s=>Ls(s)?s.mix:void 0;function Ks(...s){const a=!Array.isArray(s[0]),n=a?0:-1,t=s[0+n],e=s[1+n],l=s[2+n],r=s[3+n],i=fs(e,l,{mixer:Fs(l[0]),...r});return a?i(t):i}function es(s,a){const n=ts(a()),t=()=>n.set(a());return t(),ms(()=>{const e=()=>ss.update(t,!1,!0),l=s.map(r=>r.on("change",e));return()=>{l.forEach(r=>r()),Y(t)}}),n}function Ps(s){R.current=[],s();const a=es(R.current,s);return R.current=void 0,a}function Gs(s,a,n,t){if(typeof s=="function")return Ps(s);const e=typeof a=="function"?a:Ks(a,n,t);return Array.isArray(s)?U(s,e):U([s],([l])=>e(l))}function U(s,a){const n=X(()=>[]);return es(s,()=>{n.length=0;const t=s.length;for(let e=0;e<t;e++)n[e]=s[e].get();return a(n)})}function F(s,a,n){var t;if(typeof s=="string"){let e=document;a&&(ds(!!a.current),e=a.current),n?((t=n[s])!==null&&t!==void 0||(n[s]=e.querySelectorAll(s)),s=n[s]):s=e.querySelectorAll(s)}else s instanceof Element&&(s=[s]);return Array.from(s||[])}function zs(s,a){let n;const t=()=>{const{currentTime:e}=a,r=(e===null?0:e.value)/100;n!==r&&s(r),n=r};return ss.update(t,!0),()=>Y(t)}const Bs=js(()=>window.ScrollTimeline!==void 0);class ls{constructor(a){this.animations=a.filter(Boolean)}then(a,n){return Promise.all(this.animations).then(a).catch(n)}getAll(a){return this.animations[0][a]}setAll(a,n){for(let t=0;t<this.animations.length;t++)this.animations[t][a]=n}attachTimeline(a){const n=this.animations.map(t=>{if(Bs()&&t.attachTimeline)t.attachTimeline(a);else return t.pause(),zs(e=>{t.time=t.duration*e},a)});return()=>{n.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get duration(){let a=0;for(let n=0;n<this.animations.length;n++)a=Math.max(a,this.animations[n].duration);return a}runAll(a){this.animations.forEach(n=>n[a]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Hs(s){return typeof s=="object"&&!Array.isArray(s)}function Os(s){const a={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=gs(s)?new xs(a,{enableHardwareAcceleration:!1}):new ys(a,{enableHardwareAcceleration:!0});n.mount(s),L.set(s,n)}function Ws(s,a=100){const n=ws({keyframes:[0,a],...s}),t=Math.min(bs(n),vs);return{type:"keyframes",ease:e=>n.next(t*e).value/a,duration:As(t)}}function Z(s,a,n,t){var e;return typeof a=="number"?a:a.startsWith("-")||a.startsWith("+")?Math.max(0,s+parseFloat(a)):a==="<"?n:(e=t.get(a))!==null&&e!==void 0?e:s}const $s=(s,a,n)=>{const t=a-s;return((n-s)%t+t)%t+s};function Us(s,a){return Ns(s)?s[$s(0,s.length,a)]:s}function Zs(s,a,n){for(let t=0;t<s.length;t++){const e=s[t];e.at>a&&e.at<n&&(Ss(s,e),t--)}}function Js(s,a,n,t,e,l){Zs(s,e,l);for(let r=0;r<a.length;r++)s.push({value:a[r],at:ks(e,l,t[r]),easing:Us(n,r)})}function Qs(s,a){return s.at===a.at?s.value===null?1:a.value===null?-1:0:s.at-a.at}const Xs="easeInOut";function Ys(s,{defaultTransition:a={},...n}={},t){const e=a.duration||.3,l=new Map,r=new Map,i={},p=new Map;let g=0,c=0,x=0;for(let m=0;m<s.length;m++){const f=s[m];if(typeof f=="string"){p.set(f,c);continue}else if(!Array.isArray(f)){p.set(f.name,Z(c,f.at,g,p));continue}let[y,j,h={}]=f;h.at!==void 0&&(c=Z(c,h.at,g,p));let u=0;const A=(w,b,N,C=0,V=0)=>{const d=sa(w),{delay:_=0,times:S=Vs(d),type:cs="keyframes",...is}=b;let{ease:K=a.ease||"easeOut",duration:v}=b;const P=typeof _=="function"?_(C,V):_,G=d.length;if(G<=2&&cs==="spring"){let O=100;if(G===2&&ta(d)){const ps=d[1]-d[0];O=Math.abs(ps)}const W={...is};v!==void 0&&(W.duration=qs(v));const $=Ws(W,O);K=$.ease,v=$.duration}v??(v=e);const z=c+P,B=z+v;S.length===1&&S[0]===0&&(S[1]=1);const H=S.length-d.length;H>0&&Es(S,H),d.length===1&&d.unshift(null),Js(N,d,K,S,z,B),u=Math.max(P+v,u),x=Math.max(B,x)};if(as(y)){const w=J(y,r);A(j,h,Q("default",w))}else{const w=F(y,t,i),b=w.length;for(let N=0;N<b;N++){j=j,h=h;const C=w[N],V=J(C,r);for(const d in j)A(j[d],aa(h,d),Q(d,V),N,b)}}g=c,c+=u}return r.forEach((m,f)=>{for(const y in m){const j=m[y];j.sort(Qs);const h=[],u=[],A=[];for(let b=0;b<j.length;b++){const{at:N,value:C,easing:V}=j[b];h.push(C),u.push(Cs(0,x,N)),A.push(V||"easeOut")}u[0]!==0&&(u.unshift(0),h.unshift(h[0]),A.unshift(Xs)),u[u.length-1]!==1&&(u.push(1),h.push(null)),l.has(f)||l.set(f,{keyframes:{},transition:{}});const w=l.get(f);w.keyframes[y]=h,w.transition[y]={...a,duration:x,ease:A,times:u,...n}}}),l}function J(s,a){return!a.has(s)&&a.set(s,{}),a.get(s)}function Q(s,a){return a[s]||(a[s]=[]),a[s]}function sa(s){return Array.isArray(s)?s:[s]}function aa(s,a){return s[a]?{...s,...s[a]}:{...s}}const na=s=>typeof s=="number",ta=s=>s.every(na);function rs(s,a,n,t){const e=F(s,t),l=e.length,r=[];for(let i=0;i<l;i++){const p=e[i];L.has(p)||Os(p);const g=L.get(p),c={...n};typeof c.delay=="function"&&(c.delay=c.delay(i,l)),r.push(...Ms(g,{...a,transition:c},{}))}return new ls(r)}const ea=s=>Array.isArray(s)&&Array.isArray(s[0]);function la(s,a,n){const t=[];return Ys(s,a,n).forEach(({keyframes:l,transition:r},i)=>{let p;as(i)?p=ns(i,l.default,r.default):p=rs(i,l,r),t.push(p)}),new ls(t)}const ra=s=>{function a(n,t,e){let l;return ea(n)?l=la(n,t,s):Hs(t)?l=rs(n,t,e,s):l=ns(n,t,e),s&&s.animations.push(l),l}return a},oa=ra(),ca={some:0,all:1};function ia(s,a,{root:n,margin:t,amount:e="some"}={}){const l=F(s),r=new WeakMap,i=g=>{g.forEach(c=>{const x=r.get(c.target);if(c.isIntersecting!==!!x)if(c.isIntersecting){const m=a(c);typeof m=="function"?r.set(c.target,m):p.unobserve(c.target)}else x&&(x(c),r.delete(c.target))})},p=new IntersectionObserver(i,{root:n,rootMargin:t,threshold:typeof e=="number"?e:ca[e]});return l.forEach(g=>p.observe(g)),()=>p.disconnect()}function pa(s,{root:a,margin:n,amount:t,once:e=!1}={}){const[l,r]=k.useState(!1);return k.useEffect(()=>{if(!s.current||e&&l)return;const i=()=>(r(!0),e?void 0:()=>r(!1)),p={root:a&&a.current||void 0,margin:n,amount:t};return ia(s.current,i,p)},[a,s,n,e,t]),l}const os=k.forwardRef((s,a)=>{const{from:n=0,decimal:t=0,to:e,isInView:l,duration:r=2e3,delay:i=0,prefix:p,suffix:g,className:c,style:x,onComplete:m}=s,f=ts(n),y=Gs(f,u=>u.toFixed(t)),j=k.useRef(null),h=pa(j);return k.useEffect(()=>{const u=oa(f,e,{duration:r/1e3,delay:i/1e3,ease:"circOut",onUpdate:A=>{A===e&&(m==null||m())}});return l&&(u.pause(),h&&u.play()),u.stop},[n,e,r,i,f,l,h]),o.jsxs("div",{ref:j,className:c,style:x,children:[p,o.jsx(Ts.div,{className:"counter__value",ref:a,children:y}),g]})});os.displayName="Counter";const q=os,ua=`<pre class="hljs"><code><span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;your path/Counter&#x27;</span>;
<span class="hljs-keyword">import</span> clsx <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;clsx&#x27;</span>;
<span class="hljs-keyword">const</span> countStyle =
<span class="hljs-string">&#x27;bg-white w-[140px] text-[42px] inline-flex rounded-3 justify-center items-end font-bold border p-6 [&amp;_div]:leading-[1]&#x27;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Demo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{countStyle}</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>
  )
}
</code></pre>
`,ha=`<pre class="hljs"><code><span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;your path/Counter&#x27;</span>;
<span class="hljs-keyword">import</span> clsx <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;clsx&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RiTempColdLine</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@remixicon/react&#x27;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Demo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;flex gap-4&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{clsx(countStyle,</span> &#x27;<span class="hljs-attr">w-</span>[<span class="hljs-attr">170px</span>]&#x27;)}
        <span class="hljs-attr">from</span>=<span class="hljs-string">{-12}</span>
        <span class="hljs-attr">to</span>=<span class="hljs-string">{42}</span>
        <span class="hljs-attr">prefix</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">RiTempColdLine</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;mr-1&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{24}</span> /&gt;</span>}
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{clsx(countStyle,</span> &#x27;<span class="hljs-attr">w-</span>[<span class="hljs-attr">170px</span>]&#x27;)}
        <span class="hljs-attr">from</span>=<span class="hljs-string">{0}</span>
        <span class="hljs-attr">to</span>=<span class="hljs-string">{100}</span>
        <span class="hljs-attr">suffix</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;text-sm ml-2&quot;</span>&gt;</span>元<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
`,fa=`<pre class="hljs"><code><span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;your path/Counter&#x27;</span>;
<span class="hljs-keyword">import</span> clsx <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;clsx&#x27;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Demo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{clsx(countStyle,</span> &#x27;<span class="hljs-attr">w-</span>[<span class="hljs-attr">200px</span>]&#x27;)} <span class="hljs-attr">from</span>=<span class="hljs-string">{0}</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{100}</span> <span class="hljs-attr">decimal</span>=<span class="hljs-string">{2}</span> /&gt;</span></span>
  )
}
</code></pre>
`,ma=`<pre class="hljs"><code><span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;your path/Counter&#x27;</span>;
<span class="hljs-keyword">import</span> clsx <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;clsx&#x27;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Demo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;h-[300px] overflow-auto mb-10&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;h-[1000px] bg-zinc-100 relative&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">{clsx(countStyle,</span> &#x27;<span class="hljs-attr">absolute</span> <span class="hljs-attr">left-2</span> <span class="hljs-attr">bottom-2</span>&#x27;)}
          <span class="hljs-attr">to</span>=<span class="hljs-string">{100}</span>
          <span class="hljs-attr">isInView</span>
          <span class="hljs-attr">delay</span>=<span class="hljs-string">{1000}</span>
          <span class="hljs-attr">duration</span>=<span class="hljs-string">{3000}</span>
          <span class="hljs-attr">onComplete</span>=<span class="hljs-string">{()</span> =&gt;</span> console.log(&#x27;complete&#x27;)}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
`,da=[{prop:"from",desc:"start value of counter, default is 0",type:"number",required:!1,default:"0"},{prop:"to",desc:"end value of counter",type:"number",required:!0,default:"-"},{prop:"decimal",desc:"number of decimals to display, default is 0",type:"number",required:!1,default:"0"},{prop:"duration",desc:"duration of the animation in milliseconds",type:"number",required:!1,default:"2000"},{prop:"delay",desc:"delay before the animation starts in milliseconds",type:"number",required:!1,default:"0"},{prop:"prefix",desc:"prefix of the counter value",type:"React.ReactNode",required:!1,default:"-"},{prop:"suffix",desc:"suffix of the counter value",type:"React.ReactNode",required:!1,default:"-"},{prop:"isInView",desc:"whether animation starts when it scroll into viewport",type:"boolean",required:!1,default:"false"},{prop:"className",type:"string",required:!1,default:"-"},{prop:"style",type:"React.CSSProperties",required:!1,default:"-"},{prop:"onComplete",desc:"callback function when the animation completes",type:"() => void",required:!1,default:"-"}],M="bg-white w-[140px] text-[42px] inline-flex rounded-3 justify-center items-end font-bold border p-6 [&_div]:leading-[1]";function ya(){return o.jsxs(o.Fragment,{children:[o.jsx(Ds,{title:"Counter",sourceName:"Counter"}),o.jsx(_s,{children:"A component allows for animating number from one state to another"}),o.jsxs(D,{className:"mb-4",children:[o.jsx(E,{as:"h4",className:"mb-2",children:"basic"}),o.jsx(q,{className:M,to:100}),o.jsx(T,{content:ua})]}),o.jsxs(D,{className:"mb-4",children:[o.jsx(E,{as:"h4",className:"mb-2",children:"prefix and suffix"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(q,{className:I(M,"w-[170px]"),from:-12,to:42,prefix:o.jsx(Is,{className:"mr-1",size:24})}),o.jsx(q,{className:I(M,"w-[170px]"),from:0,to:100,suffix:o.jsx("span",{className:"text-sm ml-2",children:"元"})})]}),o.jsx(T,{content:ha})]}),o.jsxs(D,{className:"mb-4",children:[o.jsx(E,{as:"h4",className:"mb-2",children:"decimal"}),o.jsx(q,{className:I(M,"w-[200px]"),from:0,to:100,decimal:2}),o.jsx(T,{content:fa})]}),o.jsxs(D,{className:"mb-4 min-h-[380px]",children:[o.jsx(E,{as:"h4",className:"mb-2",children:"isInView"}),o.jsx("div",{className:"h-[300px] overflow-auto mb-10",children:o.jsx("div",{className:"h-[1000px] bg-zinc-100 relative",children:o.jsx(q,{className:I(M,"absolute left-2 bottom-2"),to:100,isInView:!0,delay:1e3,duration:3e3,onComplete:()=>console.log("complete")})})}),o.jsx(T,{content:ma})]}),o.jsx(E,{as:"h2",className:"mb-4",children:"API"}),o.jsx(Rs,{rows:da})]})}export{ya as default};
