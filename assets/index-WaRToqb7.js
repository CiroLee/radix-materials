import{r as c,j as x}from"./index-DS6qm14V.js";import{$ as E,a as P,b as k,_ as p}from"./index-DxDs9eJJ.js";import{a as R,$ as N,b as T}from"./index-BFn4IUUH.js";import{$ as j}from"./index-BVjPIHQF.js";import{c as z}from"./index-B3S6f_Ni.js";const w="Switch",[B,Q]=E(w),[M,q]=B(w),H=c.forwardRef((e,a)=>{const{__scopeSwitch:t,name:d,checked:r,defaultChecked:n,required:i,disabled:o,value:b="on",onCheckedChange:f,...m}=e,[s,u]=c.useState(null),S=P(a,h=>u(h)),$=c.useRef(!1),g=s?!!s.closest("form"):!0,[l=!1,y]=R({prop:r,defaultProp:n,onChange:f});return c.createElement(M,{scope:t,checked:l,disabled:o},c.createElement(k.button,p({type:"button",role:"switch","aria-checked":l,"aria-required":i,"data-state":v(l),"data-disabled":o?"":void 0,disabled:o,value:b},m,{ref:S,onClick:N(e.onClick,h=>{y(_=>!_),g&&($.current=h.isPropagationStopped(),$.current||h.stopPropagation())})})),g&&c.createElement(O,{control:s,bubbles:!$.current,name:d,value:b,checked:l,required:i,disabled:o,style:{transform:"translateX(-100%)"}}))}),I="SwitchThumb",A=c.forwardRef((e,a)=>{const{__scopeSwitch:t,...d}=e,r=q(I,t);return c.createElement(k.span,p({"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0},d,{ref:a}))}),O=e=>{const{control:a,checked:t,bubbles:d=!0,...r}=e,n=c.useRef(null),i=j(t),o=T(a);return c.useEffect(()=>{const b=n.current,f=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==t&&s){const u=new Event("click",{bubbles:d});s.call(b,t),b.dispatchEvent(u)}},[i,t,d]),c.createElement("input",p({type:"checkbox","aria-hidden":!0,defaultChecked:t},r,{tabIndex:-1,ref:n,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}const D=H,F=A,L={tiny:{"--width":"32px","--height":"18px"},small:{"--width":"40px","--height":"22px"},medium:{"--width":"48px","--height":"26px"},large:{"--width":"56px","--height":"30px"}};function U(e,a){const t=L[e]||{};return{...a,"--gap":"8px","--padding":"4px",...t}}const C=c.forwardRef((e,a)=>{const[t,d]=c.useState(e.checked??e.defaultChecked),r=n=>{d(n),e.onCheckedChange?.(n)};return x.jsx(D,{ref:a,checked:t,defaultChecked:e.defaultChecked,onCheckedChange:r,disabled:e.disabled,className:z("h-[var(--height)] w-[var(--width)] cursor-default rounded-[var(--height)] box-border bg-gray-400/40 p-[var(--padding)] transition-colors ease-linear",{"data-[state=checked]:bg-brand-500":t&&!e.disabled,"data-[disabled]:bg-brand-500/70 cursor-not-allowed":e.disabled&&t,"data-[disabled]:bg-gray-200 cursor-not-allowed":e.disabled&&!t},e.className),style:U(e.size||"medium",e.style),children:x.jsx(F,{className:`block relative w-[calc(var(--height)-var(--gap))] h-[calc(var(--height)-var(--gap))] rounded-full shadow-[0_1px_2px_0_rgba(0,0,0,0.2)] ease-linear transition-transform
       will-change-transform bg-white data-[state=checked]:translate-x-[calc(var(--width)-var(--height)+var(--gap)-2*var(--padding))]`,children:t?e.checkedThumb:e.unCheckedThumb})})});C.displayName="Switch";const V=C;export{V as S};
