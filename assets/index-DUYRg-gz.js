import{d as A,r as t,j as s,B as G,Y as J}from"./index-DS6qm14V.js";import{g as e}from"./input.style-BqcXTAcm.js";const Q=A({slots:{base:e.base,input:e.input,prefix:e.prefix,suffix:e.suffix,count:"text-[14px] text-black/50",eyeIcon:"text-gray-400 cursor-pointer",rightBlock:"relative pr-[8px] flex flex-center",clear:e.clear},variants:{size:{tiny:{base:e.tinyBase,clear:e.tinyClear,input:`${e.smallInput} px-[6px]`,eyeIcon:"size-[12px]"},small:{base:e.smallBase,clear:e.smallClear,input:`${e.smallInput} px-[6px]`,eyeIcon:"size-[14px]"},medium:{base:e.mediumBase,clear:e.mediumClear,input:`${e.mediumInput} px-[8px]`,eyeIcon:"size-[16px]"},large:{base:e.largeBase,clear:e.largeClear,input:`${e.largeInput} px-[8px]`,eyeIcon:"size-[18px]"}},disabled:{true:{base:e.disabledBase,input:e.disabledInput}},status:{error:{base:e.errorBase,prefix:"[&>*]:text-danger-500",suffix:"[&>*]:text-danger-500"},warn:{base:e.warnBase,prefix:"[&>*]:text-warn-500",suffix:"[&>*]:text-warn-500"},readonly:{}},allowClear:{true:{clear:"scale-1"}}},defaultVariants:{size:"medium"}}),I=t.forwardRef((b,C)=>{const{inputRef:j,type:r="text",value:v="",allowClear:x,showCount:i,pwdIconVisible:N=!0,maxLength:l,status:o,disabled:n,placeholder:B,size:u,prefix:d,suffix:f,onChange:S,onInput:$,onBlur:z,onFocus:k,onKeyDown:E,className:R,style:V}=b,{base:P,input:Y,prefix:D,clear:F,count:H,suffix:K,eyeIcon:m,rightBlock:c}=Q(),[a,g]=t.useState(v),[h,y]=t.useState(!1),[p,L]=t.useState(!1),M=()=>{a.length?y(!0):y(!1)},O=t.useMemo(()=>{if(i)return l?`${a.length}/${l}`:`${a.length}`},[l,a.length,i]),T=w=>{const q=w.currentTarget;g(q.value),$?.(w)},X=()=>{h&&g("")};return t.useEffect(()=>{x&&M()},[a.length]),s.jsxs("label",{className:P({size:u,disabled:n,status:o,class:R}),ref:C,style:V,children:[d?s.jsx("div",{className:D({status:o}),children:d}):null,s.jsx("input",{ref:j,className:Y({disabled:n,size:u}),type:r==="password"?p?"text":"password":r,placeholder:B,disabled:n,readOnly:o==="readonly",value:a,maxLength:l,onInput:T,onChange:S,onBlur:z,onFocus:k,onKeyDown:E}),x&&!n?s.jsx("div",{className:c(),children:s.jsx("div",{className:F({size:u,allowClear:h}),onClick:X})}):null,i?s.jsx("div",{className:H({class:c()}),children:O}):null,r==="password"&&N?s.jsx("div",{className:c(),onClick:()=>L(!p),children:p?s.jsx(G,{className:m()}):s.jsx(J,{className:m()})}):null,f?s.jsx("div",{className:K(),children:f}):null]})});I.displayName="Input";const Z=I;export{Z as I};
